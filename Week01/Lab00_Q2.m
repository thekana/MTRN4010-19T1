A = [0.9 0.1 0.1;
    0.1 0.9 0.3;
    0 -0.3 0.9];
B = [0; 0; 1];
xk = zeros(3,500);
t = 1:500;
u = (t>=10 & t<=20)*1 + (t>=21 & t<=30)*2;
for k = 1:500-1
    uk = u(k);s
    xk(:,k+1) = A*xk(:,k) + B*uk;
end